Day 6 사용자 & 그룹
 - 사용자 계정
    > 사람이 장치(or 운영체제)를 사용하기 위해 로그인하는 계정
      누가 어떤 작업을 했는지 명확하게 알기 위해서 사람들 개개인에게 생성해주는 계정
      사용자 계정을 이용하여 파일/디렉토리 권한 설정이 가능하다
      (동일한 파일을 a 사용자는 내용을 읽고, b 사용자는 읽지 못하게 만드는 등)

 - 그룹
    > 사용자 계정을 묶어서 관리하기 위해 사용하는 계정
      관리자가 주로 제어(그룹 생성/수정/삭제, 그룹에 사용자 계정을 소속시키는 등)
      그룹에 권한을 부여하여 그룹에 소속된 사용자들이 동일한 권한을 적용받도록 할 수 있다

사용자 계정
- 사용자 계정에 관련된 파일
  1. /etc/passwd	: 사용자의 일반 정보가 저장된 파일
    * 파일 내용 보는 방법
	itbank:x:1000:1000:dust:/home/itbank:/bin/bash

	itbank		: 사용자명, 뒤의 정보들이 어느 사용자의 정보인지 표시
	x		: 암호, 보안상의 이유로 passwd 파일에는 암호 표시 X
	1000(왼쪽)	: UID, 해당 사용자의 고유 번호
	1000(오른쪽)	: GID, 해당 사용자가 소속된 주요 그룹의 고유 번호
	dust		: 사용자 별칭, 계정명 or ID로 사용 X, 표시되는 이름
	/home/itbank	: 사용자의 홈 디렉토리, 홈 디렉토리에 찾아갈 때 이 정보를 참조한다
	/bin/bash	: 사용자 계정이 사용하는 shell

	   ** UID, GID
		UID : User ID, 사용자에게 부여되는 고유 번호
		GID : Group ID, 그룹에게 부여되는 고유 번호

		0	: root
		1 ~ 999	: system or service 계정
		1000 ~	: 일반 사용자&그룹 계정

	   ** shell
		명령어 해독기, 운영체제에 명령을 전달해주는 역할
		현재 시스템에 설치된 shell은 /etc/shells 파일에서 확인

  2. /etc/shadow	: 사용자의 고급 정보가 저장된 파일
    * 파일 내용 보는 방법
	itbank:$6$~~$~~~:19196:0:99999:7:::

	itbank		: 사용자명, 뒤의 정보들이 어느 사용자의 정보인지 표시
	$6$~~$~~~	: 암호, 사용자의 비밀번호를 암호화 시켜서 저장
	19196		: 암호 생성 일자, 1970년 1월 1일을 기준으로 며칠째에 생성된 암호인지 표시
			  운영체제 설치 시 저장된 암호는 생성 일자가 표시 X
	0		: 암호 최소 사용 일자
	99999		: 암호 최대 사용 일자(암호 만료 일자)
	7		: 암호 만료 전 경고 일자

	   ** 이 후의 정보들은 거의 사용하지 않기 때문에 생략

  3. /etc/login.defs	: 사용자와 그룹 생성/삭제와 관련된 몇몇 설정들이 저장

 - 사용자 암호 변경
	passwd		: 명령어를 입력한 사용자의 암호 변경(모든 사용자 사용)
	passwd <계정명>	: 해당 사용자의 암호 변경(관리자 전용)
 - 사용자 생성
	useradd [옵션] [값] ... [옵션] [값] 사용자명

    * 옵션
	-u	: UID 지정
	-g	: GID 지정
	-c	: 별칭 지정
	-s	: shell 지정, shell은 시스템에 설치된 shell을 절대경로로 입력
	-d	: 홈 디렉토리 지정, 생성되는 홈 디렉토리의 경로와 이름을 절대경로로 입력
		  /etc/login.defs - CREATE_HOME 설정이 없거나 no 이면 -m 옵션을 함께 사용
	-m	: make directory
	-k	: skel 지정, 기본 skel 디렉토리인 /etc/skel이 아닌 다른 디렉토리를
		  skel로 사용할 때 -m 옵션과 함께 사용
	-D	: 사용자 생성 시 적용되는 기본 정보 확인
		  추가 옵션을 함께 사용하여 기본 정보 변경(ex. -b : 홈 디렉토리 생성 위치 변경)
		  -D 옵션을 사용하면 사용자 계정 생성 기능이 없어진다

    * 홈 디렉토리	: 사용자 개인 디렉토리
		  홈 디렉토리는 절대로 사용자 계정이 될 수 없다
		   > 특정 사용자 계정이 혼자서 사용하는 디렉토리의 역할만 수행

    * /etc/skel	: 사용자 홈 디렉토리의 뼈대가 되는 디렉토리
		  사용자 생성 시 홈 디렉토리 내부에 /etc/skel 안에 있는 파일/디렉토리를 복사
		   > 사용자 홈 디렉토리 내부에 특정 파일/디렉토리 자동으로 생성 가능

    * /etc/default/useradd
		: 사용자 생성 시 적용되는 기본 정보가 저장된 파일
		  이 파일의 내용을 변경하면 useradd의 옵션을 사용하지 않아도 같은 효과 확인 가능

 - 사용자 계정 정보 수정
	usermod 옵션 값 [옵션] [값] ... [옵션] [값] 사용자명

    * 옵션은 useradd의 옵션을 대다수 사용 가능
	-D, -k 옵션은 사용 X
	-m 옵션은 move directory로 변경

 - 사용자 삭제
	userdel [옵션] 사용자명

    * 옵션
	-r	: 사용자 소유의 파일/디렉토리를 함께 삭제

그룹
 - 사용자 계정을 그룹에 소속시켜서 사용
    > 그룹에 권한을 부여하여 그룹에 소속된 모든 사용자가 동일한 권한을 적용 받음

 - 그룹에 관련된 파일
     /etc/group		: 그룹의 일반 정보가 들어있는 파일
    * 파일 내용 보는 방법
	itbank:x:1000:

	itbank		: 그룹명, 뒤의 정보들이 어느 그룹의 정보인지 표시
	x		: 암호, 그룹에는 별도의 암호를 지정하지 않는다
	1000		: GID, 해당 그룹의 고유 번호
	<마지막 필드>	: 그룹에 일반 소속된 사용자들의 목록
			  단, OS 설치 시 생성된 그룹은 해당 그룹을 GID로 사용하는 사용자를 목록에 담고 있다

 - 그룹 생성
	groupadd [옵션] [값] ... [옵션] [값] 그룹명

    * 옵션
	-g	: GID 지정

 - 그룹 정보 수정
	groupmod 옵션 값 [옵션] [값] ... [옵션] [값] 그룹명

    * 옵션
	-g	: GID 지정
	-n	: 이름 지정

 - 그룹 삭제
	groupdel 그룹명

    * 사용자가 주요 그룹(GID)로 사용 중인 그룹은 삭제 X

사용자 + 그룹
 - 사용자가 그룹에 소속되는 방식은 두 가지로 분류
  1. 사용자가 그룹을 자신의 주요 그룹으로 사용(GID로 사용)

  2. 사용자가 그룹에 일반 소속되어 사용

    * 모든 사용자는 반드시 하나의 그룹을 GID로 사용
      일반 소속에 대한 제한은 X

 - 사용자를 만들면 같은 이름의 그룹이 생성
    > 사용자는 기본적으로 함께 만들어진 그룹을 주요 그룹(GID)으로 사용

 - 사용자의 주요 그룹과 사용자가 일반 소속된 그룹은 언제든지 변경
  1. 주요 그룹(GID) 변경
      > usermod 명령의 -g 옵션을 사용

  2. 그룹에 일반 소속된 사용자 목록 변경
   1) usermod 명령의 -G 옵션을 사용(가급적 사용 X)

   2) gpasswd 명령어 사용

gpasswd
 - 그룹에 일반 소속된 사용자 목록 제어

 - 형식
	gpasswd 옵션 사용자명 그룹명

    * 옵션
	-a	: 해당 사용자를 그룹에 일반 소속된 사용자 목록에 추가
	-d	: 해당 사용자를 그룹에 일반 소속된 사용자 목록에서 제거

id
 - 사용자의 UID, GID, 일반 소속된 그룹의 목록 출력

 - 형식
	id 사용자명